## Лабораторная работа 3-4

Вариант `34789.9`

В соответствии с выданным вариантом на основе предложенного текстового отрывка из литературного произведения создать объектную модель реального или воображаемого мира, описываемого данным текстом. Должны быть выделены основные персонажи и предметы со свойственным им состоянием и поведением. На основе модели написать программу на языке Java.

---
## Текст задания

**Этапы выполнения работы:**

1. Получить вариант
2. Нарисовать UML-диаграмму, представляющую классы и интерфейсы объектной модели и их взаимосвязи;
3. Придумать сценарий, содержащий действия персонажей, аналогичные приведенным в исходном тексте;
4. Согласовать диаграмму классов и сценарий с преподавателем;
5. Написать программу на языке Java, реализующую разработанные объектную модель и сценарий взаимодействия и изменения состояния объектов. При запуске программа должна проигрывать сценарий и выводить в стандартный вывод текст, отражающий изменение состояния объектов, приблизительно напоминающий исходный текст полученного отрывка. 
6. Продемонстрировать выполнение программы на сервере `helios`.
7. Ответить на контрольные вопросы и выполнить дополнительное задание.

Текст, выводящийся в результате выполнения программы не обязан дословно повторять текст, полученный в исходном задании. Также не обязательно реализовывать грамматическое согласование форм и падежей слов выводимого текста. 

Стоит отметить, что цель разработки объектной модели состоит не в выводе текста, а в эмуляции объектов предметной области, а именно их состояния (поля) и поведения (методы). Методы в разработанных классах должны изменять состояние объектов, а выводимый текст должен являться побочным эффектом, отражающим эти изменения.

**Требования к объектной модели, сценарию и программе:**

1. В модели должны быть представлены основные персонажи и предметы, описанные в исходном тексте. Они должны иметь необходимые атрибуты и характеристики (состояние) и уметь выполнять свойственные им действия (поведение), а также должны образовывать корректную иерархию наследования классов.
2. Объектная модель должна реализовывать основные принципе ООП - инкапсуляцию, наследование и полиморфизм. Модель должна соответствовать принципам SOLID, быть расширяемой без глобального изменения структуры модели. 
3. Сценарий должен быть вариативным, то есть при изменении начальных характеристик персонажей, предметов или окружающей среды, их действия могут изменяться и отклоняться от базового сценария, приведенного в исходном тексте. Кроме того, сценарий должен поддерживать элементы случайности (при генерации персонажей, при задании исходного состояния, при выполнении методов).
4. Объектная модель должна содержать как минимум один корректно использованный элемент каждого типа из списка:
    -   абстрактный класс как минимум с одним абстрактным методом;
    -   интерфейс;
    -   перечисление (enum);
    -   запись (record);
    -   массив или ArrayList для хранения однотипных объектов;
    -   проверяемое исключение.
5. В созданных классах основных персонажей и предметов должны быть корректно переопределены методы `equals()`, `hashCode()` и `toString()`. Для классов-исключений необходимо переопределить метод `getMessage()`.
6. Созданные в программе классы-исключения должны быть использованы и обработаны. Кроме того, должно быть использовано и обработано хотя бы одно unchecked исключение (можно свое, можно из стандартной библиотеки).
7. При необходимости можно добавить внутренние, локальные и анонимные классы.
---
### Исходный текст
```
Придя к такому умозаключению, Незнайка снял с себя космический скафандр и почувствовал, что не только не задыхается, но даже вполне свободно может дышать. Ему даже показалось, что воздух вокруг гораздо лучше того, которым он дышал на Земле. Но это ему, конечно, только так показалось, потому что он долго пробыл в скафандре и немного отвык от свежего воздуха. Вздохнув полной грудью, Незнайка почувствовал, что сердце гораздо спокойнее стало биться у него в груди. На душе сделалось весело и легко. Он даже хотел засмеяться, но вовремя спохватился и решил повременить с выражением радости. Прежде всего ему, конечно, следовало оглядеться и выяснить, куда он попал. Аккуратно сложив скафандр, Незнайка спрятал его под одним из кустов и принялся знакомиться с местностью. Присмотревшись внимательнее к окружавшим его кустам, он убедился, что в действительности это были не кусты, а небольшие карликовые деревья. Каждое дерево лишь в полтора-два раза повыше Незнайкиного роста. Ветви этих деревьев были осыпаны крошечными, величиной с горошину, зелеными яблочками. Сорвав одно яблочко, Незнайка попробовал его и тут же выплюнул, до того оно оказалось кислое. Неподалеку росли такие же карликовые лунные груши. Незнайка решил попробовать лунную грушу, но она была безвкусная, к тому же очень терпкая должно быть, еще незрелая. 


Отшвырнув в сторону лунную грушу, Незнайка принялся искать, чем бы еще поживиться. От этих лунных яблок и груш у него только аппетит разыгрался; к тому же с тех пор, как он ел в последний раз, прошло уже много времени. Сделав несколько шагов в сторону, он очутился перед высоким дощатым забором, вдоль которого росли колючие кустики, усеянные уже совсем крошечными красными ягодками. Попробовав одну ягодку, Незнайка убедился, что перед ним была лунная карликовая малина. На вкус она ничем не отличалась от нашей обычной земной малины, только была очень мелкая. Незнайка принялся набивать рот лунной малиной, но сколько ее ни ел, никак не мог насытиться. * * * Впрочем, на этот раз ему так и не удалось утолить голод. Если бы он вел себя осторожнее, то мог бы заметить, что за ним уже давно следят из-за кустов чьи-то внимательные глаза. Эти внимательные глаза принадлежали лунному коротышке, которого звали Фиксом. Он был одет в рыжий, протертый на локтях пиджак и в какую-то нелепую засаленную рыжую кепку на голове. На ногах у него были штаны, какие обычно носят, заткнув в сапоги, но сапог не было, а были сандалии, которые он надел на босу ногу. В руках у Фикса была метла, которую он держал наперевес, как ружье, будто собирался идти с этим ружьем в атаку. 


Ничего не подозревая, Незнайка продолжал уплетать малину, как вдруг снизу раздался щелчок, и он почувствовал, как его что-то крепко схватило за ногу. Незнайка вскрикнул от боли и, нагнувшись, увидел, что нога его попала в капкан. В этот же момент следивший за каждым его шагом Фикс выскочил из своей засады и, подбежав к Незнайке, изо всех сил стукнул его метлой по голове. Но Фикс не слушал его. Незнайка только пожал плечами.
```
> В 3 лабораторной работе используется только второй блок текста. Первый и третий блоки добавляются в 4 лабораторной работе
### UML диаграмма
![alt text](https://github.com/Mafteroid0/ITMO-CSE/blob/main/programming/lab3-4/assets/UML.jpg?raw=true)

---
#### Компиляция
```
javac -d out -sourcepath src src/Main.java
```
#### Cборка Jar
```
jar cfe dist/lab3.jar -C out .
```
#### Запуск
```
java -jar dist/lab3.jar
```